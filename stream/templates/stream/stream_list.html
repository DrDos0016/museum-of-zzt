{% extends "museum_site/main.html" %}
{% load static %}
{% load tz %}

{% block style %}
<style>
@font-face
{
    font-family: 'Roboto';
    src: url('/static/fonts/RobotoSlab-VariableFont_wght.ttf');
    font-weight: normal;
    font-style: normal;
}

#schedule { max-width:1024px; margin:auto; background-color:var(--ega-darkblue); font-family:"cp437";}

.stream
{
    display:grid;
    grid-template-areas:
    "screen title"
    "screen category"
    "screen time"
    "screen nonstandard"
    "screen guests"
    "screen description";
    padding:14px 0px 28px 8px;
    box-sizing:border-box;
    column-gap:16px;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows:repeat(5, auto) 1fr;
    color:var(--ega-white);
    
}

.time, .description {
    padding-left: 8px;
    padding-right: 8px;
}

img:not(.screenshot-thumb).stream-thumbnail
{
    grid-area:screen;
    border-top:14px solid var(--ega-white);
    border-bottom:14px solid var(--ega-white);
    border-left:16px solid var(--ega-white);
    border-right:16px solid var(--ega-white);
    box-shadow: 16px 14px var(--ega-gray);
    max-width:480px;

}

.upper
{
    background-color:var(--ega-darkpurple);
    margin-top:14px;
    margin-bottom:14px;
}

.stream h2
{
    grid-area:title;
    font-weight:normal;
    font-size:42px;
    margin:0;
    font-family:cp437;
    text-align:center;
}

.stream .time
{
    grid-area:time;
    font-size:18pt;
    color:var(--ega-cyan);
    display:flex;
    justify-content:space-between;
}

.stream .description
{
    grid-area:description;
    align-self:start;
    color:var(--ega-yellow);
    margin-right:8px;
    font-size:28px;
}

.stream .description::first-letter { padding-left:2ch; }

.post-header
{
    display:flex;
    align-items:center;
    height:80px;
    color:var(--ega-yellow);
    font-family:cp437;
    font-weight:normal;
    font-size:20pt;
}

.post-header h1
{
    flex:1;
    text-align:center;
    font-weight:normal;
    color:var(--ega-white);
}

.post-twitch
{
    background-color:var(--ega-darkpurple);
    color:var(--ega-white);
    font-size:20pt;
    font-family:roboto;
    text-align:center;
}

.post-twitch h2
{
    margin:0;
    text-align:right;
    margin-right:50px;
}

#post-logo
{
    position:relative;
    top:40px;
    max-height:160px;
}

.divider
{
    height:auto;
    max-height:32px;
    background:var(--ega-black);
}

.post-twitch h2 a
{
    color:var(--ega-white);
}

.stream-category
{
    grid-area:category;
    font-size:18pt;
    color:var(--ega-yellow);
    text-align:center;
}

.stream-guests
{
    grid-area:guests;
    font-size:18pt;
    color:var(--ega-green);
}

@media (max-width:1580px) {
    .post-header { padding-top: 14px; }
    #post-logo { max-height:80px; top:0px; }
    #schedule { max-width:640px; }
    img:not(.screenshot-thumb).stream-thumbnail { max-width:240px; }
}

@media (max-width:1024px) {
    .stream
    {
        grid-template-areas:"title"
        "screen"
        "time"
        "nonstandard"
        "description";
        grid-template-columns:1fr;
    }

    .post-header {
        height:auto;
    }
}

.nonstandard { color:var(--ega-yellow); font-size:24pt; background-color:var(--ega-darkred); padding-left: 16px; padding-right: 16px; }

.schedule-header
{
    display:flex;
    background-color:var(--ega-darkred);
    background-image:url('/static/chrome/dosember-2025/lights.gif');
    background-repeat:repeat-x;
    align-items:center;
    justify-content:space-evenly;
    padding-top:25px;
}
</style>
{% endblock %}

{% block content %}
<div id="schedule">
    <div class="post-header">
        <img src="{% static 'chrome/logos/museum-tiger-by-lazymoth.png' %}" id="post-logo">
        <div>
            <h1>Worlds of ZZT Stream Schedule</h1>
        </div>
    </div>
    <div class="post-twitch">
        <h2><a href="https://twitch.tv/worldsofzzt" target="_blank" class="noext">https://twitch.tv/worldsofzzt</a></h2>
    </div>
    <div class="schedule-header">
        <img src="{% static 'chrome/dosember-2025/2025_DOSember_Banner.png' %}" style="height:128px">
        <div style="font-size:20pt;color:var(--ega-white);background-color:rgba(55, 55, 55, 0.4); max-width:360px; padding:4px;">
            <p class="c"><a href="https://dosember.com/" target="_blank" class="noext" style="color:var(--ega-yellow)">#DOSember</a> Bonus Streams!<br> Keep an eye out for surprise streams of DOS games all month long!</p>
        </div>
    </div>
    {% for stream in streams %}
    <div class="stream" data-idx="{{forloop.counter}}">
        <div class="upper">
            <h2>{{stream.title}}</h2>
            {% if stream.category != "none" %}<div class="stream-category">{{stream.get_category_display}} {% if stream.theme %} - {{stream.theme}}{% endif %}</div>{% endif %}
        </div>
        {% if stream.theme != "NOSTREAM" %}
        <div class="time">
            <div>
                {% timezone "America/New_York" %}{{stream.when|date:'l N jS'}}<br>
                {{stream.when|date:'h:i A e'}}{% endtimezone %}<br>
                {% timezone "America/Los_Angeles" %}{{stream.when|date:'h:i A e'}}{% endtimezone %}
            </div>
            <div class="ega-purple r">
            {{stream.when|date:'D M jS'}}<br>
            {{stream.when|date:'H:i e'}}
            </div>
        </div>
            {% if stream.nonstandard_time %}
                <div class="nonstandard c"><span class="ega-yellow">/!\</span> Alternate Timing <span class="ega-yellow">/!\</span></div>
            {% endif %}
        {% else %}
        <div class="time">
            <div>
                {% timezone "America/New_York" %}{{stream.when|date:'l N jS'}}<br>{% endtimezone %}
            </div>
            <div class="ega-purple r">
            {{stream.when|date:'D M jS'}}<br>
            </div>
        </div>
        {% endif %}
        <img src="{{stream.preview_image}}" class="stream-thumbnail">
        {% if stream.guests %}<div class="stream-guests">Featuring Special Guests:<br>{{stream.guests}}</div>{% endif %}
        <div class="description">{{stream.description|safe}}
        </div>
    </div>
    {% if not foorloop.last %}
    <div class="divider"></div>
    {% endif %}
    {% empty %}
    <div class="stream">
        <h2>No streams have been scheduled!</h2>
        <img src="{% static 'screenshots/no_screenshot.png' %}" class="stream-thumbnail">
        <div class="description">Check back again soon for more details!</div>
    </div>
    {% endfor %}
    <div class="schedule-footer">
    </div>
</div>

<h2>Standard Schedule</h2>

<p><b>Sundays at 12:00 noon Pacific, 3:00pm Eastern, {{sunday_time_utc}}</b> - Wildcard streams of 1-5 as of yet unpreserved ZZT worlds, or "24 Hours To Go" a series in which every 24 Hours of ZZT game is played on stream.</p>

<p><b>Fridays at 6:00pm Pacific, 9:00pm Eastern, {{friday_time_utc}}</b> - ZZT worlds either voted on by viewers, new releases, or whatever Dr. Dos feels like that week.</p>

<p>Dates, content, and anything else stream related may change at any time!</p>
{% endblock %}
