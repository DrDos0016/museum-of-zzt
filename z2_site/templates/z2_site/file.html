{% extends "z2_site/world.html" %}
{% load staticfiles %}

{% block scripts %}
<script>
var letter = "{{letter}}";
var zip = "{{file.filename}}";
var load_file = "{{load_file}}";
var load_board = "{{load_board}}";

{% if save %}
// DEBUG DO NOT USE ON PRODUCTION
var save = "{{save}}";
// END DEBUG
{% endif %}
</script>
<script src="{% static 'js/elements.js' %}"></script>
<script async src="{% static 'js/file_viewer.js' %}"></script>
{% endblock %}

{% block world_content %}
<div id="file-area">
    <img src="/static/images/ascii.png" id="ascii" style="display:none"> <!-- DEBUG -->
    <div id="details">
    <img src="{% if file.screenshot %}{% static 'images/screenshots/'|add:file.letter|add:'/'|add:file.screenshot %}{% else %}{% static 'images/screenshots/no_screenshot.png' %}{% endif %}" class="titlescreen">
    </div>

    <div id="file-list" class="col">
    <ul>
    <li class="selected" data-img="{% if file.screenshot %}{% static 'images/screenshots/'|add:file.letter|add:'/'|add:file.screenshot %}{% else %}{% static 'images/screenshots/no_screenshot.png' %}{% endif %}">Title Screen</li>
    {% for file in files %}
    <li>{{file}}</li>
    {% endfor %}
    </ul>
    </div>

    <div id="world-info" class="col"></div>

    {% if save %}
    <form method="POST" action="/debug/save" name="save">
    {% csrf_token %}
    <input name="screenshot">
    <input name="letter" value="{{file.letter}}">
    <input name="zip" value="{{file.filename}}">
    <input type="submit" id="save" value="Save">
    </form>
    {% endif %}
</div>
{% endblock %}
