{% extends "museum_site/main.html" %}
{% load static %}
{% load site_tags %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}?{{BOOT_TS}}">
{% endblock %}

{% block content %}
<h1>Museum of ZZT</h1>

{% comment %}
<div class="flex-container justify-center">
    {% shadowed_block text="About ZZT" url="about_zzt" icon="emoji/discord/player.png" bg='var(--ega-darkblue)' border_color='var(--ega-blue)' %}
    {% shadowed_block text="Download ZZT" url="zzt_dl" icon="üíæ" bg='var(--ega-darkcyan)' border_color='var(--ega-cyan)'%}
    {% shadowed_block text="Play ZZT Online" url="play_zzt_online" icon="üïπÔ∏è" bg='var(--ega-darkgreen)' border_color='var(--ega-green)'%}
    {% shadowed_block text="Make Your Own ZZT Worlds" url="make_your_own_zzt_worlds" icon="emoji/discord/zzthink-by-archenoth-2x.png" bg='var(--ega-darkyellow)' border_color='var(--ega-yellow)'%}
</div>
{% endcomment %}

<div class="flex-container" id="intro-event-wrapper">
    <div id="welcome-text">
    <p>Welcome to the Museum of ZZT, a site dedicated to the preservation and
    curation of the many games and worlds created with ZZT.</p>

    <p>ZZT is a text-mode game from 1991 created by Tim Sweeney of Epic Games. ZZT
    has its own editor and scripting language which offers what may still be an
    unmatched level of accessibility to beginning game developers. A significant
    number of ZZT worlds were created by authors in their early teenage years, with
    some being made by children under 10. ZZT's simple ZZT-OOP scripting language
    gave many a friendly introduction to programming.</p>

    <p>The goal of the Museum of ZZT site is to collect these worlds, offer
    discussions into them and the community built around them, and keep them safely
    preserved. It is the hope of the Museum that the generally unknown works of ZZT
    community can be easily discovered and that their importance can be recognized.
    </p>
    </div>
    <div id="event-splash">
        {% if main_event %}
        <div class="main-event">
            <div class="event-heading">Community Event!</div>
            <a href="{{main_event.url}}" target="_blank" class="noext">
            <div>{{main_event.title}}</div>
            <img src="{{main_event.image}}">
            <div class="when" title="{{main_event.when_title}}">{{main_event.when}}</div>
            </a>
        </div>
        </a>
        {% endif %}
    </div>
</div>

<div id="fp-file-frame">
    <h2 id="new-releases-heading">New Releases</h2>
    <h2 id="latest-additions-heading">New Finds</h2>
    <div class="gallery-list scrolling">
        <div class="col">
        {% queryset_to_model_blocks new_releases view="gallery" %}
        </div>
        <div class="col">
        {% queryset_to_model_blocks files view="gallery" %}
        </div>
    </div>
    <nav class="nav-actions">
        <a href="{% url 'zfile_browse_new_releases' %}">Browse All New Releases</a>
        <a href="{% url 'zfile_browse_new_finds' %}">Browse All New Finds</a>
    </nav>
</div>

<div id="mobile-fp-file-frame">
    <h2><a href="{% url 'zfile_browse_new_releases' %}">New Releases</a></h2>
    {% queryset_to_model_blocks new_releases view="gallery" auto_wrap=False %}
    <hr>
    <h2><a href="{% url 'zfile_browse_new_finds' %}">New Finds</a></h2>
    {% queryset_to_model_blocks files view="gallery" auto_wrap=False %}
</div>

<h2>Latest Articles</h2>
{% with articles|slice:":3" as spotlight_articles %}
    {% queryset_to_model_blocks spotlight_articles view="detailed" %}
{% endwith %}

{% with articles|slice:"3:" as spotlight_articles %}
    {% queryset_to_model_blocks spotlight_articles view="list" %}
{% endwith %}
<nav class="nav-actions">
    <a href="{% url 'article_browse' %}">Browse All Articles</a>
</nav>

<h2>Latest Feedback</h2>
{% queryset_to_model_blocks feedback view="list" %}
<nav class="nav-actions">
    <a href="{% url 'review_browse' %}">Browse All Feedback</a>
</nav>
{% endblock %}
